#!/usr/bin/env bash

# START CONFIGURATION
DOLLAR='$'
export CONTECO_DC_GLOBAL_STACKS="rest.base"
export CONTECO_DC_GLOBAL_STACKNAMES="conteco_dc_rest"
export CONTECO_DC_GLOBAL_BOOTSTACKS="conteco_dc_rest"
export CONTECO_DC_GLOBAL_RUNSTACKS="conteco_dc_rest"
export CONTECO_DC_GLOBAL_VOLUME_LIST="${DOLLAR}{CONTECO_STACKPREFIX}_rest_base_data_volume"
export CONTECO_DC_GLOBAL='$CONTECO_DC_GLOBAL_SERVICE_NAME,$CONTECO_DC_GLOBAL_IMAGE_NAME,$CONTECO_DC_REST_PORTS,COMMAND,$CONTECO_DC_REST_NETWORKS,$CONTECO_DC_REST_VOLUMES,$CONTECO_DC_GLOBAL_VOLUMES,$CONTECO_DC_GLOBAL_NETWORKS,$CONTECO_DC_REST_COMPOSE_EXTENSIONS'
# END CONFIGURATION

# START GLOBAL SETTINGS
export CONTECO_DC_GLOBAL_SERVICE_NAME="${CONTECO_TYPE}"
export CONTECO_DC_GLOBAL_IMAGE_NAME="${CONTECO_TYPE}.${CONTECO_NAME}:${CONTECO_TAG}"
export CONTECO_DC_REST_PORTS=
export CONTECO_DC_REST_NETWORKS="${DOLLAR}{CONTECO_NETWORKLOCAL}_overlay"
export CONTECO_DC_REST_VOLUMES="'${DOLLAR}{CONTECO_STACKPREFIX}_bash_data_volume:/conteco/pwd'${DOLLAR}{CONTECO_DC_REST_VOLUMES_MAPPINGS}"
export CONTECO_DC_GLOBAL_VOLUMES="${DOLLAR}{CONTECO_STACKPREFIX}_bash_data_volume: { external: true }"
export CONTECO_DC_GLOBAL_NETWORKS="${DOLLAR}{CONTECO_NETWORKLOCAL}_overlay: { external: true }"
export CONTECO_DC_REST_COMPOSE_EXTENSIONS="      restart_policy: { condition: none }
${DOLLAR}{CONTECO_DC_REST_COMPOSE_EXTENSIONS}"
# END GLOBAL SETTINGS

# START SETTINGS artifactory.base
export CONTECO_DC_REST_ENVIRONMENT_REST_BASE_CURL_LOGGING="REQUEST RESPONSE TRACE"
export CONTECO_DC_REST_COMMAND="'.invoke execute-curl /conteco/pwd/test.request /conteco/pwd/test.response http 80'"
export CONTECO_DC_REST_COMMAND_INTERACTIVE="true"
export CONTECO_DC_REST_ENVIRONMENT="'CONTECO_STATIC_REST_BASE_API_LOGGING=${CONTECO_DC_REST_ENVIRONMENT_REST_BASE_CURL_LOGGING}'"
export CONTECO_DC_REST_VOLUMES_MAPPINGS=""
export CONTECO_DC_REST_DEPLOY_MODE="replicated"
export CONTECO_DC_REST_DEPLOY_RESOURCES_LIMITS_MEMORY="24m"
export CONTECO_DC_REST_DEPLOY_RESOURCES_RESERVATIONS_MEMORY="5m"
# END SETTINGS artifactory.base

# START TOPLEVEL SETTINGS
# END TOPLEVEL SETTINGS
